import React from "react";
import { View, Text } from "react-native";
import { Navigation } from "react-native-navigation";
import { styles } from "./styles";
import { NavigationCapableProps } from "../../../types";
import Icon from "react-native-vector-icons/FontAwesome5";
import console = require("console");

interface TopBarProps {
    title: string;
    rendererId: string;
}

type Props = TopBarProps & NavigationCapableProps;

type State = {};

export class TopBar extends React.Component<Props, State> {
    constructor(props: Props) {
        super(props);
        Navigation.events().bindComponent(this);
        // console.log("TOPBAR created", props);
    }

    handleBackPress = async () => {
        // console.log("BackPress pushed", this.props.rendererId);
        await Navigation.popTo(this.props.rendererId);
    };

    render(): JSX.Element {
        return (
            <View style={styles.container} accessible>
                <Icon
                    name="arrow-left"
                    size={18}
                    onPress={() => this.handleBackPress()}
                    accessibilityRole="button"
                    accessibilityHint="ZpÄ›t"
                    style={styles.icon}
                />
                <Text style={styles.title}>{this.props.title}</Text>
            </View>
        );
    }
}


import { StyleSheet } from "react-native";

import { titleText } from "../../../styles/typography";
import { rightMargin, leftMargin } from "../../../styles/margins";
import { padding } from "../../../styles/paddings";
import { colors } from "../../../styles/colors";
export const styles = StyleSheet.create({
    container: {
        flex: 1,
        flexDirection: "row",
        justifyContent: "flex-start",
        alignItems: "center",
    },
    title: {
        ...titleText,
        ...leftMargin(3),
    },
    icon: {
        color: colors.link,
        ...padding(1),
        ...leftMargin(0.5),
        ...rightMargin(1),
    },
});
